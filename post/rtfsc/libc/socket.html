<header>
    <title>RTFSC!</title>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="/lib/page.css">
    <style> html * { color: #f2f2f2 !important; font-family: Terminus !important; } </style>
</header>

<body>

<h1>Socket</h1>
<pre>
记录socket地址的结构体sockaddr_in：

    struct sockaddr_in addr;

    /* Structure describing an Internet socket address.  */
    struct sockaddr_in
    {
        __SOCKADDR_COMMON (sin_);                                   // unsigned short int sin_##family; 为address family
        in_port_t sin_port;            /* Port number.  */          // uint16_t sin_port; 为16 bit TCP/UDP port numbe
        struct in_addr sin_addr;        /* Internet address.  */    /* struct in_addr { in_addr_t s_addr; };
                                                                       typedef uint32_t in_addr_t;          
                                                                       所以实际上是 uint32_t sin_addr
                                                                       为32 bit IP address */
        /* Pad to size of `struct sockaddr'.  */
        unsigned char sin_zero[sizeof (struct sockaddr)             // not use, for align
                - __SOCKADDR_COMMON_SIZE
                - sizeof (in_port_t)
                - sizeof (struct in_addr)];
    };

    struct sockaddr_in {
        uint16_t        sin_family;
        uint16_t        sin_port;
        struct in_addr  sin_addr;
        unsigned char   sin_zero;
    };

总归就是保存了地址家族、IP地址、端口。前两者位于网络层，后者位于传输层。由此标定一个TCP/IP或UDP/IP目标位置。
</pre>

</body>